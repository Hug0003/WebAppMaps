@using Web.ViewModel
@model SalleViewModel

<div class="search-room-container">
    <a class="linkStyle addItem" asp-controller="Etages" asp-action="Index">+</a>


    <div class="form-section">
        <form class="form" id="searchRoomForm">
            <input name="salle" id="salleInput" placeholder="Numéro/Nom salle" class="input-field" />
            <button type="submit" class="btn">Rechercher</button>
        </form>
    </div>


    <div class="form-section">
        <form class="form formSelectEtage">
            <select id="etageSelect" name="EtageId" class="form-select">
                <option value="all">-- Tous les étages --</option>
                <hr class="dropdown-divider">
                @foreach (var etage in Model.etages)
                {
                    <option value="@etage.Id">@etage.Nom</option>
                }
            </select>
            <select id="favorieSelect" name="SalleFavorie" class="form-select">
                <option value="all">-- Tous les étages --</option>
                <hr class="dropdown-divider">
                <option value="1">Mes favoris</option>
                <option value="0">Les non favoris</option>


            </select>
        </form>
    </div>
    

    <div id="sallesList" class="container_ListSalle">
        @if(Model.salles != null)
        {
            @foreach (var salle in Model.salles)
            {

                <a class="salles_click" data-etage="@salle.EtageId" data-salleclickid="@salle.Id" style="cursor:pointer;">
                    <div class="box_visuSalle">
                        <div class="box_visuSalleInfo" >
                            <p>@salle.Nom</p>
                            <p>@salle.Numero</p>
                            <div class="box_iconFavori_visuSalle" data-salleinfoid="@salle.Id">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill iconFavoriFill iconStar" viewBox="0 0 16 16">
                                    <path d="" />
                                </svg>
                            </div>
                        </div>
                        <div class="box_visuSalleImg">
                            <img class="Img_visuSalle" src="~/@salle.ImgSallePath"/>
                        </div>
                    </div>
                </a>

                <div class="hidden container_plan_info" data-sallelid="@salle.Id" data-sallenom="@salle.Nom" data-sallenum="@salle.Numero">
                    <button class="closeModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-x-lg iconCLose" viewBox="0 0 16 16">
                          <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                        </svg>
                    </button>

                    <div class="section_infoSalle">
                        <div class="box_imgSalle">
                            <img src="~/@salle.ImgSallePath" alt="Salle" class="imgSalle" />
                        </div>
                     
                        <div class="box_iconFavori" data-salleidfavorite="@salle.Id">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill iconFavoriFill iconStar" viewBox="0 0 16 16">
                                <path class="iconStar" d="" />
                            </svg>
                        </div>

                        <div class="list-info">
                            <div>
                            <p class="p_infoSalle"><strong>Nom Bureau :</strong> @salle.Nom</p>
                            <p class="p_infoSalle"><strong>Numéro :</strong> @salle.Numero</p>
                            </div>
                            <div>
                            <p class="p_infoSalle" ><strong>Étage :</strong> @salle.Etage.Nom</p>
                             <a asp-controller="Etages" asp-action="SignalerRoom">Signaler</a>
                            </div>
                        </div>
                    </div>       
                <div class="section_imgPlan" >
                        <img src="~/@salle.Etage.ImgPlanEtagePath" class="img-plan" />
                </div>

                </div>

            }
        }
        else
        {
            <p>no working</p>
        }


    </div>
    </div>

